# vim: filetype=zsh
# Combina 'ripgrep' con 'bat' para buscar texto
# en archivos, mostrando resultados con
# resaltado y número de línea.
#
# Uso:
#   batrg <archivo> <patrón> [opciones_rg]
#
# Ejemplo:
#   batrg *.py "TODO|FIXME"

if [[ $# -lt 2 ]]; then
    echo "Uso: batrg <archivo> <patrón> [opciones_rg]"
    return 1
fi

local files="$1"
local pattern="$2"
shift 2

rg --line-number "$pattern" $files "$@" \
    | sed -E 's/^([0-9]+:)[ \t]+/\1/'
